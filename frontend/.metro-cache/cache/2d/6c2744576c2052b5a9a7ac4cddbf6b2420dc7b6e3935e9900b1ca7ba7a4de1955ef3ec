{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":26,"index":155}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await SecureStore.getItemAsync('authToken');\n        if (token) {\n          const response = await axios.default.get(`${BACKEND_URL}/api/auth/me`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Auth check failed:', error);\n        await SecureStore.deleteItemAsync('authToken');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await SecureStore.setItemAsync('authToken', access_token);\n        setUser(userData);\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Login failed';\n        throw new Error(message);\n      }\n    };\n    const signup = async (name, email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/signup`, {\n          name,\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await SecureStore.setItemAsync('authToken', access_token);\n        setUser(userData);\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Signup failed';\n        throw new Error(message);\n      }\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('authToken');\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        signup,\n        logout,\n        isAuthenticated: !!user\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":136,"map":[[28,2,24,0,"Object"],[28,8,24,0],[28,9,24,0,"defineProperty"],[28,23,24,0],[28,24,24,0,"exports"],[28,31,24,0],[29,4,24,0,"enumerable"],[29,14,24,0],[30,4,24,0,"get"],[30,7,24,0],[30,18,24,0,"get"],[30,19,24,0],[31,6,24,0],[31,13,24,0,"AuthProvider"],[31,25,24,0],[32,4,24,0],[33,2,24,0],[34,2,105,0,"Object"],[34,8,105,0],[34,9,105,0,"defineProperty"],[34,23,105,0],[34,24,105,0,"exports"],[34,31,105,0],[35,4,105,0,"enumerable"],[35,14,105,0],[36,4,105,0,"get"],[36,7,105,0],[36,18,105,0,"get"],[36,19,105,0],[37,6,105,0],[37,13,105,0,"useAuth"],[37,20,105,0],[38,4,105,0],[39,2,105,0],[40,2,1,0],[40,6,1,0,"_react"],[40,12,1,0],[40,15,1,0,"require"],[40,22,1,0],[40,23,1,0,"_dependencyMap"],[40,37,1,0],[41,2,2,0],[41,6,2,0,"_expoSecureStore"],[41,22,2,0],[41,25,2,0,"require"],[41,32,2,0],[41,33,2,0,"_dependencyMap"],[41,47,2,0],[42,2,2,0],[42,6,2,0,"SecureStore"],[42,17,2,0],[42,20,2,0,"_interopNamespace"],[42,37,2,0],[42,38,2,0,"_expoSecureStore"],[42,54,2,0],[43,2,3,0],[43,6,3,0,"_axios"],[43,12,3,0],[43,15,3,0,"require"],[43,22,3,0],[43,23,3,0,"_dependencyMap"],[43,37,3,0],[44,2,3,0],[44,6,3,0,"axios"],[44,11,3,0],[44,14,3,0,"_interopDefault"],[44,29,3,0],[44,30,3,0,"_axios"],[44,36,3,0],[45,2,3,26],[45,6,3,26,"_reactJsxDevRuntime"],[45,25,3,26],[45,28,3,26,"require"],[45,35,3,26],[45,36,3,26,"_dependencyMap"],[45,50,3,26],[46,2,5,0],[46,8,5,6,"BACKEND_URL"],[46,19,5,17],[46,22,5,20,"process"],[46,29,5,27],[46,30,5,28,"env"],[46,33,5,31],[46,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[46,57,5,55],[47,2,22,0],[47,8,22,6,"AuthContext"],[47,19,22,17],[47,35,22,20],[47,39,22,20,"createContext"],[47,45,22,33],[47,46,22,33,"createContext"],[47,59,22,33],[47,61,22,63,"undefined"],[47,70,22,72],[47,71,22,73],[48,2,24,7],[48,8,24,13,"AuthProvider"],[48,20,24,66],[48,23,24,69,"AuthProvider"],[48,24,24,70],[49,4,24,72,"children"],[50,2,24,81],[50,3,24,82],[50,8,24,87],[51,4,25,2],[51,10,25,8],[51,11,25,9,"user"],[51,15,25,13],[51,17,25,15,"setUser"],[51,24,25,22],[51,25,25,23],[51,28,25,26],[51,32,25,26,"useState"],[51,38,25,34],[51,39,25,34,"useState"],[51,47,25,34],[51,49,25,48],[51,53,25,52],[51,54,25,53],[52,4,26,2],[52,10,26,8],[52,11,26,9,"loading"],[52,18,26,16],[52,20,26,18,"setLoading"],[52,30,26,28],[52,31,26,29],[52,34,26,32],[52,38,26,32,"useState"],[52,44,26,40],[52,45,26,40,"useState"],[52,53,26,40],[52,55,26,41],[52,59,26,45],[52,60,26,46],[53,4,28,2],[53,8,28,2,"useEffect"],[53,14,28,11],[53,15,28,11,"useEffect"],[53,24,28,11],[53,26,28,12],[53,32,28,18],[54,6,29,4,"checkAuth"],[54,15,29,13],[54,16,29,14],[54,17,29,15],[55,4,30,2],[55,5,30,3],[55,7,30,5],[55,9,30,7],[55,10,30,8],[56,4,32,2],[56,10,32,8,"checkAuth"],[56,19,32,17],[56,22,32,20],[56,28,32,20,"checkAuth"],[56,29,32,20],[56,34,32,32],[57,6,33,4],[57,10,33,8],[58,8,34,6],[58,14,34,12,"token"],[58,19,34,17],[58,22,34,20],[58,28,34,26,"SecureStore"],[58,39,34,37],[58,40,34,38,"getItemAsync"],[58,52,34,50],[58,53,34,51],[58,64,34,62],[58,65,34,63],[59,8,35,6],[59,12,35,10,"token"],[59,17,35,15],[59,19,35,17],[60,10,36,8],[60,16,36,14,"response"],[60,24,36,22],[60,27,36,25],[60,33,36,31,"axios"],[60,38,36,36],[60,39,36,36,"default"],[60,46,36,36],[60,47,36,37,"get"],[60,50,36,40],[60,51,36,41],[60,54,36,44,"BACKEND_URL"],[60,65,36,55],[60,79,36,69],[60,81,36,71],[61,12,37,10,"headers"],[61,19,37,17],[61,21,37,19],[62,14,38,12,"Authorization"],[62,27,38,25],[62,29,38,27],[62,39,38,37,"token"],[62,44,38,42],[63,12,39,10],[64,10,40,8],[64,11,40,9],[64,12,40,10],[65,10,41,8,"setUser"],[65,17,41,15],[65,18,41,16,"response"],[65,26,41,24],[65,27,41,25,"data"],[65,31,41,29],[65,32,41,30],[66,8,42,6],[67,6,43,4],[67,7,43,5],[67,8,43,6],[67,15,43,13,"error"],[67,20,43,18],[67,22,43,20],[68,8,44,6,"console"],[68,15,44,13],[68,16,44,14,"log"],[68,19,44,17],[68,20,44,18],[68,40,44,38],[68,42,44,40,"error"],[68,47,44,45],[68,48,44,46],[69,8,45,6],[69,14,45,12,"SecureStore"],[69,25,45,23],[69,26,45,24,"deleteItemAsync"],[69,41,45,39],[69,42,45,40],[69,53,45,51],[69,54,45,52],[70,6,46,4],[70,7,46,5],[70,16,46,14],[71,8,47,6,"setLoading"],[71,18,47,16],[71,19,47,17],[71,24,47,22],[71,25,47,23],[72,6,48,4],[73,4,49,2],[73,5,49,3],[74,4,51,2],[74,10,51,8,"login"],[74,15,51,13],[74,18,51,16],[74,24,51,16,"login"],[74,25,51,23,"email"],[74,30,51,36],[74,32,51,38,"password"],[74,40,51,54],[74,45,51,59],[75,6,52,4],[75,10,52,8],[76,8,53,6],[76,14,53,12,"response"],[76,22,53,20],[76,25,53,23],[76,31,53,29,"axios"],[76,36,53,34],[76,37,53,34,"default"],[76,44,53,34],[76,45,53,35,"post"],[76,49,53,39],[76,50,53,40],[76,53,53,43,"BACKEND_URL"],[76,64,53,54],[76,81,53,71],[76,83,53,73],[77,10,54,8,"email"],[77,15,54,13],[78,10,55,8,"password"],[79,8,56,6],[79,9,56,7],[79,10,56,8],[80,8,58,6],[80,14,58,12],[81,10,58,14,"access_token"],[81,22,58,26],[82,10,58,28,"user"],[82,14,58,32],[82,16,58,34,"userData"],[83,8,58,43],[83,9,58,44],[83,12,58,47,"response"],[83,20,58,55],[83,21,58,56,"data"],[83,25,58,60],[84,8,59,6],[84,14,59,12,"SecureStore"],[84,25,59,23],[84,26,59,24,"setItemAsync"],[84,38,59,36],[84,39,59,37],[84,50,59,48],[84,52,59,50,"access_token"],[84,64,59,62],[84,65,59,63],[85,8,60,6,"setUser"],[85,15,60,13],[85,16,60,14,"userData"],[85,24,60,22],[85,25,60,23],[86,6,61,4],[86,7,61,5],[86,8,61,6],[86,15,61,13,"error"],[86,20,61,23],[86,22,61,25],[87,8,62,6],[87,14,62,12,"message"],[87,21,62,19],[87,24,62,22,"error"],[87,29,62,27],[87,30,62,28,"response"],[87,38,62,36],[87,40,62,38,"data"],[87,44,62,42],[87,46,62,44,"detail"],[87,52,62,50],[87,56,62,54],[87,70,62,68],[88,8,63,6],[88,14,63,12],[88,18,63,16,"Error"],[88,23,63,21],[88,24,63,22,"message"],[88,31,63,29],[88,32,63,30],[89,6,64,4],[90,4,65,2],[90,5,65,3],[91,4,67,2],[91,10,67,8,"signup"],[91,16,67,14],[91,19,67,17],[91,25,67,17,"signup"],[91,26,67,24,"name"],[91,30,67,36],[91,32,67,38,"email"],[91,37,67,51],[91,39,67,53,"password"],[91,47,67,69],[91,52,67,74],[92,6,68,4],[92,10,68,8],[93,8,69,6],[93,14,69,12,"response"],[93,22,69,20],[93,25,69,23],[93,31,69,29,"axios"],[93,36,69,34],[93,37,69,34,"default"],[93,44,69,34],[93,45,69,35,"post"],[93,49,69,39],[93,50,69,40],[93,53,69,43,"BACKEND_URL"],[93,64,69,54],[93,82,69,72],[93,84,69,74],[94,10,70,8,"name"],[94,14,70,12],[95,10,71,8,"email"],[95,15,71,13],[96,10,72,8,"password"],[97,8,73,6],[97,9,73,7],[97,10,73,8],[98,8,75,6],[98,14,75,12],[99,10,75,14,"access_token"],[99,22,75,26],[100,10,75,28,"user"],[100,14,75,32],[100,16,75,34,"userData"],[101,8,75,43],[101,9,75,44],[101,12,75,47,"response"],[101,20,75,55],[101,21,75,56,"data"],[101,25,75,60],[102,8,76,6],[102,14,76,12,"SecureStore"],[102,25,76,23],[102,26,76,24,"setItemAsync"],[102,38,76,36],[102,39,76,37],[102,50,76,48],[102,52,76,50,"access_token"],[102,64,76,62],[102,65,76,63],[103,8,77,6,"setUser"],[103,15,77,13],[103,16,77,14,"userData"],[103,24,77,22],[103,25,77,23],[104,6,78,4],[104,7,78,5],[104,8,78,6],[104,15,78,13,"error"],[104,20,78,23],[104,22,78,25],[105,8,79,6],[105,14,79,12,"message"],[105,21,79,19],[105,24,79,22,"error"],[105,29,79,27],[105,30,79,28,"response"],[105,38,79,36],[105,40,79,38,"data"],[105,44,79,42],[105,46,79,44,"detail"],[105,52,79,50],[105,56,79,54],[105,71,79,69],[106,8,80,6],[106,14,80,12],[106,18,80,16,"Error"],[106,23,80,21],[106,24,80,22,"message"],[106,31,80,29],[106,32,80,30],[107,6,81,4],[108,4,82,2],[108,5,82,3],[109,4,84,2],[109,10,84,8,"logout"],[109,16,84,14],[109,19,84,17],[109,25,84,17,"logout"],[109,26,84,17],[109,31,84,29],[110,6,85,4],[110,12,85,10,"SecureStore"],[110,23,85,21],[110,24,85,22,"deleteItemAsync"],[110,39,85,37],[110,40,85,38],[110,51,85,49],[110,52,85,50],[111,6,86,4,"setUser"],[111,13,86,11],[111,14,86,12],[111,18,86,16],[111,19,86,17],[112,4,87,2],[112,5,87,3],[113,4,89,2],[113,24,90,4],[113,28,90,4,"_reactJsxDevRuntime"],[113,47,90,4],[113,48,90,4,"jsxDEV"],[113,54,90,4],[113,56,90,5,"AuthContext"],[113,67,90,16],[113,68,90,17,"Provider"],[113,76,90,25],[114,6,91,6,"value"],[114,11,91,11],[114,13,91,13],[115,8,92,8,"user"],[115,12,92,12],[116,8,93,8,"loading"],[116,15,93,15],[117,8,94,8,"login"],[117,13,94,13],[118,8,95,8,"signup"],[118,14,95,14],[119,8,96,8,"logout"],[119,14,96,14],[120,8,97,8,"isAuthenticated"],[120,23,97,23],[120,25,97,25],[120,26,97,26],[120,27,97,27,"user"],[121,6,98,6],[121,7,98,8],[122,6,98,8,"children"],[122,14,98,8],[122,16,100,7,"children"],[123,4,100,15],[124,6,100,15,"fileName"],[124,14,100,15],[124,16,100,15,"_jsxFileName"],[124,28,100,15],[125,6,100,15,"lineNumber"],[125,16,100,15],[126,6,100,15,"columnNumber"],[126,18,100,15],[127,4,100,15],[127,11,101,26],[127,12,101,27],[128,2,103,0],[128,3,103,1],[129,2,105,7],[129,8,105,13,"useAuth"],[129,15,105,20],[129,18,105,23,"useAuth"],[129,19,105,23],[129,24,105,29],[130,4,106,2],[130,10,106,8,"context"],[130,17,106,15],[130,20,106,18],[130,24,106,18,"useContext"],[130,30,106,28],[130,31,106,28,"useContext"],[130,41,106,28],[130,43,106,29,"AuthContext"],[130,54,106,40],[130,55,106,41],[131,4,107,2],[131,8,107,6,"context"],[131,15,107,13],[131,20,107,18,"undefined"],[131,29,107,27],[131,31,107,29],[132,6,108,4],[132,12,108,10],[132,16,108,14,"Error"],[132,21,108,19],[132,22,108,20],[132,67,108,65],[132,68,108,66],[133,4,109,2],[134,4,110,2],[134,11,110,9,"context"],[134,18,110,16],[135,2,111,0],[135,3,111,1],[136,0,111,2],[136,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","signup","logout","useAuth"],"mappings":"AAA;qECuB;YCI;GDE;oBEE;GFiB;gBGE;GHc;iBIE;GJe;iBKE;GLG;CDgB;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}